{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Brendan Johnston\\\\Documents\\\\VSCode Projects\\\\Dentist Scheduler - CoFi Project\\\\DentistScheduler\\\\Dentist-Scheduler\\\\src\\\\App.js\";\n// Dentist Scheduler Application\n// Written by Brendan Johnston\n\n/*\n  This application allows for a Dentist office to schedule, and maintain new appointments. This also allows for customers to create new appointments for themselves.\n*/\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport react from \"react\";\nimport NewAppointment from './Components/NewAppointments';\nimport AppointmentEdit from './Components/AppointmentEdit'; // import Calendar from \"react-calendar\";\n\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport moment from 'moment'; // import 'moment/locale/en-US';\n//import \"react-calendar/dist/Calendar.css\";\n\nimport axios from \"axios\";\nimport AvailableTimes from \"./Components/AvailableTimes\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nmoment.locale('en');\nconst localizer = momentLocalizer(moment);\n\nclass MainScheduler extends react.Component {\n  constructor(props) {\n    super(props);\n\n    this.onCalendarChange = param => {\n      console.log(param);\n      let date = param.getDate();\n      let month = param.getMonth() + 1;\n      let year = param.getFullYear();\n      let separator = \"/\";\n      let stringVal = `${month < 10 ? `0${month}` : `${month}`}${separator}${date}${separator}${year}`;\n      this.setState({\n        selectedDate: stringVal\n      });\n      this.checkAvailableTimes();\n    };\n\n    this.dateChange = event => {};\n\n    this.onTimeChange = change => {\n      var start = change.start;\n      var end = change.end;\n      this.setState({\n        startTime: start,\n        endTime: end,\n        newAppointmentIsOpen: true\n      });\n    };\n\n    this.eventSelected = change => {\n      var start = change.start;\n      var end = change.end;\n      this.setState({\n        startTime: start,\n        endTime: end,\n        editAppointmentIsOpen: true\n      });\n    };\n\n    this.checkAvailableTimes = () => {\n      var url = \"http://localhost:5083/DentistScheduler/\";\n      const header = {\n        \"Access-Control-Allow-Origin\": \"*\"\n      };\n      var success = axios.get(url, header).then(availableTimesFromServer => {\n        console.log(availableTimesFromServer);\n        let array = [];\n        availableTimesFromServer.data.forEach(element => {\n          var startTime = moment(Number(element.startTime)).toDate();\n          var endTime = moment(Number(element.endTime)).toDate();\n          var appointment = {\n            title: element.firstName + \" \" + element.lastName + \" Phone: \" + element.phone,\n            phone: element.phone,\n            firstName: element.firstName,\n            lastName: element.lastName,\n            start: startTime,\n            end: endTime,\n            id: element.id\n          };\n          array.push(appointment);\n        });\n        this.setState({\n          appointmentList: array\n        }); //this.setState({ availableTimes: availableTimesFromServer.data });\n      }).catch(ex => {\n        console.log(ex);\n      });\n      console.log(success);\n    };\n\n    this.editAppointmentClose = () => {\n      this.setState({\n        editAppointmentIsOpen: false\n      });\n      this.checkAvailableTimes();\n    };\n\n    this.newAppointmentClose = () => {\n      this.setState({\n        newAppointmentIsOpen: false\n      });\n      this.checkAvailableTimes();\n    };\n\n    let _date = this.getCurrentDate(\"/\");\n\n    console.log(_date);\n    this.state = {\n      selectedDate: _date,\n      availableTimes: undefined,\n      dateValue: undefined,\n      appointmentList: [],\n      newAppointmentIsOpen: false,\n      editAppointmentIsOpen: false,\n      startTime: \"\",\n      endTime: \"\"\n    };\n    this.checkAvailableTimes();\n  }\n\n  getCurrentDate() {\n    let separator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n    let newDate = new Date();\n    let date = newDate.getDate();\n    let month = newDate.getMonth() + 1;\n    let year = newDate.getFullYear();\n    return `${month < 10 ? `0${month}` : `${month}`}${separator}${date}${separator}${year}`;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"Header-Label\",\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Smiley Faces Dentist Scheduler\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"A CoFi Special Business Venture!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Click\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 16\n        }, this), \" on appointment to \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"view and edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Click\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 16\n        }, this), \" or \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Click and Drag\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 32\n        }, this), \" in empty space to \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"create new appointment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 72\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n        localizer: localizer,\n        defaultDate: moment().toDate(),\n        events: this.state.appointmentList,\n        startAccessor: \"start\",\n        endAccessor: \"end\",\n        views: ['month', 'week', 'day'],\n        defaultView: \"week\",\n        selectable: true,\n        onSelectSlot: this.onTimeChange,\n        onSelectEvent: this.eventSelected,\n        scrollToTime: moment().set({\n          h: 8,\n          m: 0\n        }).toDate(),\n        style: {\n          height: 800\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AvailableTimes, {\n        style: {\n          display: \"flex\"\n        },\n        onTimeChange: this.onTimeChange,\n        availableTimes: this.state.availableTimes,\n        selectedDate: this.state.selectedDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AppointmentEdit, {\n        startTime: this.state.selectedStartTime,\n        endTime: this.state.selectedEndTime,\n        phone: this.state.selectedPhone,\n        firstName: this.state.selectedFirstName,\n        lastName: this.state.selectedLastName,\n        id: this.state.selectedid,\n        I: true,\n        editAppointmentIsOpen: this.state.editAppointmentIsOpen,\n        onEditAppointmentClose: this.editAppointmentClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NewAppointment, {\n        startTime: this.state.startTime,\n        endTime: this.state.endTime,\n        newAppointmentModelIsOpen: this.state.newAppointmentIsOpen,\n        onNewAppointmentClose: this.newAppointmentClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    style: {\n      display: \"table\",\n      width: \"100%\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-Header\",\n      children: /*#__PURE__*/_jsxDEV(MainScheduler, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 5\n  }, this);\n}\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Brendan Johnston/Documents/VSCode Projects/Dentist Scheduler - CoFi Project/DentistScheduler/Dentist-Scheduler/src/App.js"],"names":["logo","react","NewAppointment","AppointmentEdit","Calendar","momentLocalizer","moment","axios","AvailableTimes","locale","localizer","MainScheduler","Component","constructor","props","onCalendarChange","param","console","log","date","getDate","month","getMonth","year","getFullYear","separator","stringVal","setState","selectedDate","checkAvailableTimes","dateChange","event","onTimeChange","change","start","end","startTime","endTime","newAppointmentIsOpen","eventSelected","editAppointmentIsOpen","url","header","success","get","then","availableTimesFromServer","array","data","forEach","element","Number","toDate","appointment","title","firstName","lastName","phone","id","push","appointmentList","catch","ex","editAppointmentClose","newAppointmentClose","getCurrentDate","state","availableTimes","undefined","dateValue","newDate","Date","render","set","h","m","height","display","selectedStartTime","selectedEndTime","selectedPhone","selectedFirstName","selectedLastName","selectedid","App","width"],"mappings":"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","sourcesContent":["// Dentist Scheduler Application\n// Written by Brendan Johnston\n\n/*\n  This application allows for a Dentist office to schedule, and maintain new appointments. This also allows for customers to create new appointments for themselves.\n*/\n\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport react from \"react\";\nimport NewAppointment from './Components/NewAppointments';\nimport AppointmentEdit from './Components/AppointmentEdit';\n// import Calendar from \"react-calendar\";\nimport {Calendar, momentLocalizer} from 'react-big-calendar';\nimport moment from 'moment';\n// import 'moment/locale/en-US';\n//import \"react-calendar/dist/Calendar.css\";\nimport axios from \"axios\";\nimport AvailableTimes from \"./Components/AvailableTimes\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\n\nmoment.locale('en')\nconst localizer = momentLocalizer(moment);\n\nclass MainScheduler extends react.Component {\n  constructor(props) {\n    super(props);\n\n    let date = this.getCurrentDate(\"/\");\n    console.log(date);\n    this.state = {\n      selectedDate: date,\n      availableTimes: undefined,\n      dateValue: undefined,\n      appointmentList: [],\n      newAppointmentIsOpen: false,\n      editAppointmentIsOpen: false,\n      startTime: \"\",\n      endTime: \"\"\n    };\n\n    this.checkAvailableTimes();\n  }\n\n  onCalendarChange = (param) => {\n    console.log(param);\n    let date = param.getDate();\n    let month = param.getMonth() + 1;\n    let year = param.getFullYear();\n    let separator = \"/\";\n\n    let stringVal = `${\n      month < 10 ? `0${month}` : `${month}`\n    }${separator}${date}${separator}${year}`;\n\n    this.setState({\n      selectedDate: stringVal,\n    });\n    this.checkAvailableTimes();\n  };\n\n  dateChange = (event) => {};\n\n  onTimeChange = (change) => {\n    var start = change.start;\n    var end = change.end;\n    this.setState({\n      startTime: start,\n      endTime: end,\n      newAppointmentIsOpen: true,\n    });\n  };\n\n  eventSelected = (change) =>\n  {\n    var start = change.start;\n    var end = change.end;\n    this.setState({\n      startTime: start,\n      endTime: end,\n      editAppointmentIsOpen: true,\n    })\n  };\n\n  checkAvailableTimes = () => {\n    var url =\n      \"http://localhost:5083/DentistScheduler/\";\n    const header = {\n      \"Access-Control-Allow-Origin\": \"*\",\n    };\n    var success = axios\n      .get(url, header)\n      .then((availableTimesFromServer) => {\n        console.log(availableTimesFromServer);\n\n        let array = [];\n        availableTimesFromServer.data.forEach(element => {\n          var startTime = moment(Number(element.startTime)).toDate();\n          var endTime = moment(Number(element.endTime)).toDate();\n          var appointment = {\n            title: element.firstName + \" \" + element.lastName + \" Phone: \" + element.phone,\n            phone: element.phone,\n            firstName: element.firstName,\n            lastName: element.lastName,\n            start: startTime,\n            end: endTime,\n            id: element.id\n          };\n          array.push(appointment);\n        })\n\n        this.setState({appointmentList: array});\n        //this.setState({ availableTimes: availableTimesFromServer.data });\n      })\n      .catch((ex) => {\n        console.log(ex);\n      });\n    console.log(success);\n  };\n\n  editAppointmentClose = () =>\n  {\n    this.setState({\n      editAppointmentIsOpen: false\n    })\n    this.checkAvailableTimes();\n  };\n\n  newAppointmentClose = () =>\n  {\n    this.setState({\n      newAppointmentIsOpen: false\n    });\n    this.checkAvailableTimes();\n  };\n\n  getCurrentDate(separator = \"\") {\n    let newDate = new Date();\n    let date = newDate.getDate();\n    let month = newDate.getMonth() + 1;\n    let year = newDate.getFullYear();\n\n    return `${\n      month < 10 ? `0${month}` : `${month}`\n    }${separator}${date}${separator}${year}`;\n  };\n  \n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"Header-Label\"><b>Smiley Faces Dentist Scheduler</b></header>\n        <label>A CoFi Special Business Venture!</label>\n        <br />\n        <label><b>Click</b> on appointment to <b>view and edit</b></label>\n        <br />\n        <label><b>Click</b> or <b>Click and Drag</b> in empty space to <b>create new appointment</b></label>\n        <br />\n        <Calendar\n          localizer={localizer}\n          defaultDate={moment().toDate()}\n          events={this.state.appointmentList}\n          startAccessor=\"start\"\n          endAccessor=\"end\"\n          views={['month', 'week', 'day']}\n          defaultView='week'\n          selectable={true}\n          onSelectSlot={this.onTimeChange}\n          onSelectEvent={this.eventSelected}\n          scrollToTime={moment().set({h: 8, m: 0}).toDate()}\n          style={{ height: 800 }}\n        />\n        <AvailableTimes\n          style={{ display: \"flex\" }}\n          onTimeChange={this.onTimeChange}\n          availableTimes={this.state.availableTimes}\n          selectedDate={this.state.selectedDate}\n        />\n        <br />\n        <AppointmentEdit\n        startTime={this.state.selectedStartTime}\n        endTime={this.state.selectedEndTime}\n        phone={this.state.selectedPhone}\n        firstName={this.state.selectedFirstName}\n        lastName={this.state.selectedLastName}\n        id={this.state.selectedid}I\n        editAppointmentIsOpen={this.state.editAppointmentIsOpen}\n        onEditAppointmentClose={this.editAppointmentClose}\n        >\n\n        </AppointmentEdit>\n        <NewAppointment\n          startTime={this.state.startTime}\n          endTime={this.state.endTime}\n          newAppointmentModelIsOpen={this.state.newAppointmentIsOpen}\n          onNewAppointmentClose={this.newAppointmentClose}\n        ></NewAppointment>\n      </div>\n    );\n  }\n}\n\nfunction App() {\n  return (\n    <div className=\"App\" style={{display: \"table\", width: \"100%\"}}>\n      <header className=\"App-Header\">\n        <MainScheduler></MainScheduler>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}