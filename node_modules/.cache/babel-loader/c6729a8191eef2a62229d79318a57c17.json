{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Brendan Johnston\\\\Documents\\\\VSCode Projects\\\\Dentist Scheduler - CoFi Project\\\\DentistScheduler\\\\Dentist-Scheduler\\\\src\\\\App.js\";\n// Dentist Scheduler Application\n// Written by Brendan Johnston\n\n/*\n  This application allows for a Dentist office to schedule, and maintain new appointments. This also allows for customers to create new appointments for themselves.\n*/\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport react from \"react\";\nimport NewAppointment from \"./Components/NewAppointments\";\nimport AppointmentEdit from \"./Components/AppointmentEdit\"; // import Calendar from \"react-calendar\";\n\nimport { Calendar, momentLocalizer, Image } from \"react-big-calendar\";\nimport moment from \"moment\"; // import 'moment/locale/en-US';\n//import \"react-calendar/dist/Calendar.css\";\n\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nmoment.locale(\"en\");\nconst localizer = momentLocalizer(moment);\n\nclass MainScheduler extends react.Component {\n  constructor(props) {\n    super(props);\n\n    this.onCalendarChange = param => {\n      console.log(param);\n      let date = param.getDate();\n      let month = param.getMonth() + 1;\n      let year = param.getFullYear();\n      let separator = \"/\";\n      let stringVal = `${month < 10 ? `0${month}` : `${month}`}${separator}${date}${separator}${year}`;\n      this.setState({\n        selectedDate: stringVal\n      });\n      this.checkAvailableTimes();\n    };\n\n    this.dateChange = event => {};\n\n    this.onTimeChange = change => {\n      var start = change.start;\n      var end = change.end;\n      this.setState({\n        startTime: start,\n        endTime: end,\n        newAppointmentIsOpen: true\n      });\n    };\n\n    this.eventSelected = change => {\n      this.setState({\n        selectedStartTime: change.start,\n        selectedEndTime: change.end,\n        selectedPhone: change.phone,\n        selectedFirstName: change.firstName,\n        selectedLastName: change.lastName,\n        selectedId: change.id,\n        editAppointmentIsOpen: true\n      });\n    };\n\n    this.checkAvailableTimes = () => {\n      var url = \"http://localhost:5083/DentistScheduler/\";\n      const header = {\n        \"Access-Control-Allow-Origin\": \"*\"\n      };\n      var success = axios.get(url, header).then(availableTimesFromServer => {\n        console.log(availableTimesFromServer);\n        let array = [];\n        availableTimesFromServer.data.forEach(element => {\n          var startTime = moment(Number(element.startTime)).toDate();\n          var endTime = moment(Number(element.endTime)).toDate();\n          var appointment = {\n            title: element.firstName + \" \" + element.lastName + \" Phone: \" + element.phone,\n            phone: element.phone,\n            firstName: element.firstName,\n            lastName: element.lastName,\n            start: startTime,\n            end: endTime,\n            id: element.id\n          };\n          array.push(appointment);\n        });\n        this.setState({\n          appointmentList: array\n        }); //this.setState({ availableTimes: availableTimesFromServer.data });\n      }).catch(ex => {\n        console.log(ex);\n      });\n      console.log(success);\n    };\n\n    this.editAppointmentClose = () => {\n      this.setState({\n        editAppointmentIsOpen: false\n      });\n      this.checkAvailableTimes();\n    };\n\n    this.newAppointmentClose = () => {\n      this.setState({\n        newAppointmentIsOpen: false\n      });\n      this.checkAvailableTimes();\n    };\n\n    let _date = this.getCurrentDate(\"/\");\n\n    console.log(_date);\n    this.state = {\n      selectedDate: _date,\n      availableTimes: undefined,\n      dateValue: undefined,\n      appointmentList: [],\n      newAppointmentIsOpen: false,\n      editAppointmentIsOpen: false,\n      startTime: \"\",\n      endTime: \"\",\n      selectedStartTime: \"\",\n      selectedEndTime: \"\",\n      selectedPhone: \"\",\n      selectedFirstName: \"\",\n      selectedLastName: \"\",\n      selectedId: \"\"\n    };\n    this.checkAvailableTimes();\n  }\n\n  getCurrentDate() {\n    let separator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n    let newDate = new Date();\n    let date = newDate.getDate();\n    let month = newDate.getMonth() + 1;\n    let year = newDate.getFullYear();\n    return `${month < 10 ? `0${month}` : `${month}`}${separator}${date}${separator}${year}`;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Image, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"Header-Label\",\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Smiley Faces Dentist Scheduler\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"A CoFi Special Business Venture!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          children: \"Don't mind the drilling! - No pain, no gain! - Fearful need not apply!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Click\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), \" on appointment to \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"view and edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 42\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \" ||\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Click\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), \" or \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Click and Drag\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 27\n        }, this), \" in empty space to\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"create new appointment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n        localizer: localizer,\n        defaultDate: moment().toDate(),\n        events: this.state.appointmentList,\n        startAccessor: \"start\",\n        endAccessor: \"end\",\n        views: [\"month\", \"week\", \"day\"],\n        defaultView: \"week\",\n        selectable: true,\n        onSelectSlot: this.onTimeChange,\n        onSelectEvent: this.eventSelected,\n        scrollToTime: moment().set({\n          h: 8,\n          m: 0\n        }).toDate(),\n        style: {\n          height: 800\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AppointmentEdit, {\n        startTime: this.state.selectedStartTime,\n        endTime: this.state.selectedEndTime,\n        phone: this.state.selectedPhone,\n        firstName: this.state.selectedFirstName,\n        lastName: this.state.selectedLastName,\n        id: this.state.selectedId,\n        I: true,\n        editAppointmentIsOpen: this.state.editAppointmentIsOpen,\n        onEditAppointmentClose: this.editAppointmentClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NewAppointment, {\n        startTime: this.state.startTime,\n        endTime: this.state.endTime,\n        newAppointmentModelIsOpen: this.state.newAppointmentIsOpen,\n        onNewAppointmentClose: this.newAppointmentClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    style: {\n      display: \"table\",\n      width: \"100%\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-Header\",\n      children: /*#__PURE__*/_jsxDEV(MainScheduler, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 223,\n    columnNumber: 5\n  }, this);\n}\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Brendan Johnston/Documents/VSCode Projects/Dentist Scheduler - CoFi Project/DentistScheduler/Dentist-Scheduler/src/App.js"],"names":["logo","react","NewAppointment","AppointmentEdit","Calendar","momentLocalizer","Image","moment","axios","locale","localizer","MainScheduler","Component","constructor","props","onCalendarChange","param","console","log","date","getDate","month","getMonth","year","getFullYear","separator","stringVal","setState","selectedDate","checkAvailableTimes","dateChange","event","onTimeChange","change","start","end","startTime","endTime","newAppointmentIsOpen","eventSelected","selectedStartTime","selectedEndTime","selectedPhone","phone","selectedFirstName","firstName","selectedLastName","lastName","selectedId","id","editAppointmentIsOpen","url","header","success","get","then","availableTimesFromServer","array","data","forEach","element","Number","toDate","appointment","title","push","appointmentList","catch","ex","editAppointmentClose","newAppointmentClose","getCurrentDate","state","availableTimes","undefined","dateValue","newDate","Date","render","set","h","m","height","App","display","width"],"mappings":"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","sourcesContent":["// Dentist Scheduler Application\n// Written by Brendan Johnston\n\n/*\n  This application allows for a Dentist office to schedule, and maintain new appointments. This also allows for customers to create new appointments for themselves.\n*/\n\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport react from \"react\";\nimport NewAppointment from \"./Components/NewAppointments\";\nimport AppointmentEdit from \"./Components/AppointmentEdit\";\n// import Calendar from \"react-calendar\";\nimport { Calendar, momentLocalizer, Image } from \"react-big-calendar\";\nimport moment from \"moment\";\n// import 'moment/locale/en-US';\n//import \"react-calendar/dist/Calendar.css\";\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\n\nmoment.locale(\"en\");\nconst localizer = momentLocalizer(moment);\n\nclass MainScheduler extends react.Component {\n  constructor(props) {\n    super(props);\n\n    let date = this.getCurrentDate(\"/\");\n    console.log(date);\n    this.state = {\n      selectedDate: date,\n      availableTimes: undefined,\n      dateValue: undefined,\n      appointmentList: [],\n      newAppointmentIsOpen: false,\n      editAppointmentIsOpen: false,\n      startTime: \"\",\n      endTime: \"\",\n      selectedStartTime: \"\",\n      selectedEndTime: \"\",\n      selectedPhone: \"\",\n      selectedFirstName: \"\",\n      selectedLastName: \"\",\n      selectedId: \"\",\n    };\n\n    this.checkAvailableTimes();\n  }\n\n  onCalendarChange = (param) => {\n    console.log(param);\n    let date = param.getDate();\n    let month = param.getMonth() + 1;\n    let year = param.getFullYear();\n    let separator = \"/\";\n\n    let stringVal = `${\n      month < 10 ? `0${month}` : `${month}`\n    }${separator}${date}${separator}${year}`;\n\n    this.setState({\n      selectedDate: stringVal,\n    });\n    this.checkAvailableTimes();\n  };\n\n  dateChange = (event) => {};\n\n  onTimeChange = (change) => {\n    var start = change.start;\n    var end = change.end;\n    this.setState({\n      startTime: start,\n      endTime: end,\n      newAppointmentIsOpen: true,\n    });\n  };\n\n  eventSelected = (change) => {\n    this.setState({\n      selectedStartTime: change.start,\n      selectedEndTime: change.end,\n      selectedPhone: change.phone,\n      selectedFirstName: change.firstName,\n      selectedLastName: change.lastName,\n      selectedId: change.id,\n      editAppointmentIsOpen: true,\n    });\n  };\n\n  checkAvailableTimes = () => {\n    var url = \"http://localhost:5083/DentistScheduler/\";\n    const header = {\n      \"Access-Control-Allow-Origin\": \"*\",\n    };\n    var success = axios\n      .get(url, header)\n      .then((availableTimesFromServer) => {\n        console.log(availableTimesFromServer);\n\n        let array = [];\n        availableTimesFromServer.data.forEach((element) => {\n          var startTime = moment(Number(element.startTime)).toDate();\n          var endTime = moment(Number(element.endTime)).toDate();\n          var appointment = {\n            title:\n              element.firstName +\n              \" \" +\n              element.lastName +\n              \" Phone: \" +\n              element.phone,\n            phone: element.phone,\n            firstName: element.firstName,\n            lastName: element.lastName,\n            start: startTime,\n            end: endTime,\n            id: element.id,\n          };\n          array.push(appointment);\n        });\n\n        this.setState({ appointmentList: array });\n        //this.setState({ availableTimes: availableTimesFromServer.data });\n      })\n      .catch((ex) => {\n        console.log(ex);\n      });\n    console.log(success);\n  };\n\n  editAppointmentClose = () => {\n    this.setState({\n      editAppointmentIsOpen: false,\n    });\n    this.checkAvailableTimes();\n  };\n\n  newAppointmentClose = () => {\n    this.setState({\n      newAppointmentIsOpen: false,\n    });\n    this.checkAvailableTimes();\n  };\n\n  getCurrentDate(separator = \"\") {\n    let newDate = new Date();\n    let date = newDate.getDate();\n    let month = newDate.getMonth() + 1;\n    let year = newDate.getFullYear();\n\n    return `${\n      month < 10 ? `0${month}` : `${month}`\n    }${separator}${date}${separator}${year}`;\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Image>\n\n        </Image>\n        <header className=\"Header-Label\">\n          <b>Smiley Faces Dentist Scheduler</b>\n        </header>\n        <label>A CoFi Special Business Venture!</label>\n        <br />\n        <label>\n          <i>\n            Don't mind the drilling! - No pain, no gain! - Fearful need not\n            apply!\n          </i>\n        </label>\n        <br />\n        <label>\n          <b>Click</b> on appointment to <b>view and edit</b>\n        </label>\n        <span> ||</span>{\" \"}\n        <label>\n          <b>Click</b> or <b>Click and Drag</b> in empty space to{\" \"}\n          <b>create new appointment</b>\n        </label>\n        <br />\n        <Calendar\n          localizer={localizer}\n          defaultDate={moment().toDate()}\n          events={this.state.appointmentList}\n          startAccessor=\"start\"\n          endAccessor=\"end\"\n          views={[\"month\", \"week\", \"day\"]}\n          defaultView=\"week\"\n          selectable={true}\n          onSelectSlot={this.onTimeChange}\n          onSelectEvent={this.eventSelected}\n          scrollToTime={moment().set({ h: 8, m: 0 }).toDate()}\n          style={{ height: 800 }}\n        />\n        <br />\n        <AppointmentEdit\n          startTime={this.state.selectedStartTime}\n          endTime={this.state.selectedEndTime}\n          phone={this.state.selectedPhone}\n          firstName={this.state.selectedFirstName}\n          lastName={this.state.selectedLastName}\n          id={this.state.selectedId}\n          I\n          editAppointmentIsOpen={this.state.editAppointmentIsOpen}\n          onEditAppointmentClose={this.editAppointmentClose}\n        ></AppointmentEdit>\n        <NewAppointment\n          startTime={this.state.startTime}\n          endTime={this.state.endTime}\n          newAppointmentModelIsOpen={this.state.newAppointmentIsOpen}\n          onNewAppointmentClose={this.newAppointmentClose}\n        ></NewAppointment>\n      </div>\n    );\n  }\n}\n\nfunction App() {\n  return (\n    <div className=\"App\" style={{ display: \"table\", width: \"100%\" }}>\n      <header className=\"App-Header\">\n        <MainScheduler></MainScheduler>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}