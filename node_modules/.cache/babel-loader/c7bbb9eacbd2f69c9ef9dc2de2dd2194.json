{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Brendan Johnston\\\\Documents\\\\VSCode Projects\\\\Dentist Scheduler - CoFi Project\\\\DentistScheduler\\\\Dentist-Scheduler\\\\src\\\\App.jsx\",\n    _s = $RefreshSig$();\n\n// Dentist Scheduler Application\n// Written by Brendan Johnston\n\n/*\nPackages Used:\naxios@0.24.0\nmoment@2.29.1\nreact-big-calendar@0.38.9\nreact-bootstrap@2.1.2\nreact-phone-number-input@3.1.46\n*/\n\n/*\n  This application allows for a Dentist office to schedule, and maintain new appointments. This also allows for customers to create new appointments for themselves.\n*/\nimport \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport NewAppointment from \"./Components/NewAppointments\";\nimport AppointmentEdit from \"./Components/AppointmentEdit\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport Image from \"react-bootstrap/Image\";\nimport moment from \"moment\";\nimport { getAppointments } from \"./Sdk.js\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nmoment.locale(\"en\");\nconst localizer = momentLocalizer(moment);\n\nfunction MainScheduler() {\n  _s();\n\n  let date = new Date().toLocaleDateString();\n  console.log(date);\n  const [selectedDate, setSelectedDate] = useState(date);\n  const [availableTimes, setAvailableTimes] = useState();\n  const [dateValue, setDateValue] = useState();\n  const [appointmentList, setAppointmentList] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [newAppointmentIsOpen, setNewAppointmentIsOpen] = useState(false);\n  const [editAppointmentIsOpen, setEditAppointmentIsOpen] = useState(false);\n  const [startTime, setStartTime] = useState(\"\");\n  const [endTime, setEndTime] = useState(\"\");\n  const [selectedStartTime, setSelectedStartTime] = useState(\"\");\n  const [selectedEndTime, setSelectedEndTime] = useState(\"\");\n  const [selectedPhone, setSelectedPhone] = useState(\"\");\n  const [selectedFirstName, setSelectedFirstName] = useState(\"\");\n  const [selectedLastName, setSelectedLastName] = useState(\"\");\n  const [selectedId, setSelectedId] = useState(\"\");\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const response = await getAppointments();\n        console.log(\"Initial render response: \", response);\n        setAppointmentList(response.data);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []); // Empty dependency array means this effect runs once after initial render\n\n  const onCalendarChange = param => {\n    console.log(param);\n    let date = param.getDate();\n    let month = param.getMonth() + 1;\n    let year = param.getFullYear();\n    let separator = \"/\";\n    let stringVal = `${month < 10 ? `0${month}` : `${month}`}${separator}${date}${separator}${year}`;\n    setSelectedDate(stringVal);\n    GetWeeklyAppointments();\n  };\n\n  const onTimeChange = change => {\n    console.log(change);\n    var start = change.start;\n    var end = change.end;\n    setStartTime(start);\n    setEndTime(end);\n    setNewAppointmentIsOpen(true);\n  };\n\n  const eventSelected = change => {\n    console.log(change);\n    setSelectedStartTime(change.start);\n    setSelectedEndTime(change.end);\n    setSelectedPhone(change.phone);\n    setSelectedFirstName(change.firstName);\n    setSelectedLastName(change.lastName);\n    setSelectedId(change.id);\n    setEditAppointmentIsOpen(true);\n  }; // const checkAvailableTimes = () => {\n  //   var url = \"http://localhost:5083/DentistScheduler/\";\n  //   const header = {\n  //     \"Access-Control-Allow-Origin\": \"*\",\n  //   };\n  //   var success = sdk.getAvailableTimes(url, header, selectedDate)\n  //     .then((availableTimesFromServer) => {\n  //       console.log(availableTimesFromServer);\n  //       let array = [];\n  //       availableTimesFromServer.data.forEach((element) => {\n  //         var startTime = moment(Number(element.startTime)).toDate();\n  //         var endTime = moment(Number(element.endTime)).toDate();\n  //         var appointment = {\n  //           title:\n  //             element.firstName +\n  //             \" \" +\n  //             element.lastName +\n  //             \" | Phone: \" +\n  //             element.phone,\n  //           phone: element.phone,\n  //           firstName: element.firstName,\n  //           lastName: element.lastName,\n  //           start: startTime,\n  //           end: endTime,\n  //           id: element.id,\n  //         };\n  //         array.push(appointment);\n  //       });\n  //       setAppointmentList(array);\n  //     })\n  //     .catch((ex) => {\n  //       console.log(ex);\n  //     });\n  //   console.log(success);\n  // };\n\n\n  const GetWeeklyAppointments = () => {\n    console.log(\"Getting Weekly Appointments\");\n    getAppointments().then(appointments => {\n      console.log(appointments);\n      setAppointmentList(appointments);\n    });\n  };\n\n  const editAppointmentClose = () => {\n    setEditAppointmentIsOpen(false);\n    GetWeeklyAppointments();\n  };\n\n  const newAppointmentClose = () => {\n    setNewAppointmentIsOpen(false);\n    GetWeeklyAppointments();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-area\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"Header-Label\",\n      children: [/*#__PURE__*/_jsxDEV(Image, {\n        roundedCircle: true,\n        src: \"https://images.pexels.com/photos/6812561/pexels-photo-6812561.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260\",\n        style: {\n          maxWidth: 300,\n          padding: 25\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Smiley Faces Dentist Scheduler\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Image, {\n        roundedCircle: true,\n        src: \"https://images.pexels.com/photos/5355917/pexels-photo-5355917.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260\",\n        style: {\n          maxWidth: 300,\n          padding: 25\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"A CoFi Special Business Venture!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        children: \"Don't mind the drilling! - No pain, no gain! - Fearful need not apply!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Click\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), \" on appointment to \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"view and edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 40\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \" ||\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Click\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), \" or \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Click and Drag\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 25\n      }, this), \" in empty space to\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"create new appointment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 19\n    }, this) : /*#__PURE__*/_jsxDEV(Calendar, {\n      className: \"big-calendar\",\n      localizer: localizer,\n      defaultDate: moment().toDate(),\n      events: appointmentList,\n      startAccessor: \"start\",\n      endAccessor: \"end\",\n      views: [\"month\", \"week\", \"day\"],\n      defaultView: \"week\",\n      selectable: true,\n      onSelectSlot: timeChange => onTimeChange(timeChange),\n      onSelectEvent: event => eventSelected(event),\n      scrollToTime: moment().set({\n        h: 8,\n        m: 0\n      }).toDate(),\n      style: {\n        height: 800\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 38\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AppointmentEdit, {\n      startTime: selectedStartTime,\n      endTime: selectedEndTime,\n      phone: selectedPhone,\n      firstName: selectedFirstName,\n      lastName: selectedLastName,\n      id: selectedId,\n      editAppointmentIsOpen: editAppointmentIsOpen,\n      onEditAppointmentClose: editAppointmentClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NewAppointment, {\n      startTime: startTime,\n      endTime: endTime,\n      newAppointmentModelIsOpen: newAppointmentIsOpen,\n      onNewAppointmentClose: newAppointmentClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MainScheduler, \"pWVdMHgWoWvUlrZDV5txCa8vm7s=\");\n\n_c = MainScheduler;\n\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    style: {\n      display: \"table\",\n      width: \"100%\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-Header\",\n      children: /*#__PURE__*/_jsxDEV(MainScheduler, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = App;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MainScheduler\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"sources":["C:/Users/Brendan Johnston/Documents/VSCode Projects/Dentist Scheduler - CoFi Project/DentistScheduler/Dentist-Scheduler/src/App.jsx"],"names":["useState","useEffect","NewAppointment","AppointmentEdit","Calendar","momentLocalizer","Image","moment","getAppointments","locale","localizer","MainScheduler","date","Date","toLocaleDateString","console","log","selectedDate","setSelectedDate","availableTimes","setAvailableTimes","dateValue","setDateValue","appointmentList","setAppointmentList","loading","setLoading","newAppointmentIsOpen","setNewAppointmentIsOpen","editAppointmentIsOpen","setEditAppointmentIsOpen","startTime","setStartTime","endTime","setEndTime","selectedStartTime","setSelectedStartTime","selectedEndTime","setSelectedEndTime","selectedPhone","setSelectedPhone","selectedFirstName","setSelectedFirstName","selectedLastName","setSelectedLastName","selectedId","setSelectedId","fetchData","response","data","error","onCalendarChange","param","getDate","month","getMonth","year","getFullYear","separator","stringVal","GetWeeklyAppointments","onTimeChange","change","start","end","eventSelected","phone","firstName","lastName","id","then","appointments","editAppointmentClose","newAppointmentClose","maxWidth","padding","toDate","timeChange","event","set","h","m","height","App","display","width"],"mappings":";;;AAAA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAEA,OAAO,WAAP;AACA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,eAAP,MAA4B,8BAA5B;AACA,SAASC,QAAT,EAAmBC,eAAnB,QAA0C,oBAA1C;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,eAAT,QAAgC,UAAhC;AAEA,OAAO,sCAAP;AACA,OAAO,mDAAP;;AAEAD,MAAM,CAACE,MAAP,CAAc,IAAd;AACA,MAAMC,SAAS,GAAGL,eAAe,CAACE,MAAD,CAAjC;;AAEA,SAASI,aAAT,GAAyB;AAAA;;AACvB,MAAIC,IAAI,GAAG,IAAIC,IAAJ,GAAWC,kBAAX,EAAX;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AAEA,QAAM,CAACK,YAAD,EAAeC,eAAf,IAAkClB,QAAQ,CAACY,IAAD,CAAhD;AACA,QAAM,CAACO,cAAD,EAAiBC,iBAAjB,IAAsCpB,QAAQ,EAApD;AACA,QAAM,CAACqB,SAAD,EAAYC,YAAZ,IAA4BtB,QAAQ,EAA1C;AACA,QAAM,CAACuB,eAAD,EAAkBC,kBAAlB,IAAwCxB,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAACyB,OAAD,EAAUC,UAAV,IAAwB1B,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAAC2B,oBAAD,EAAuBC,uBAAvB,IAAkD5B,QAAQ,CAAC,KAAD,CAAhE;AACA,QAAM,CAAC6B,qBAAD,EAAwBC,wBAAxB,IAAoD9B,QAAQ,CAAC,KAAD,CAAlE;AACA,QAAM,CAAC+B,SAAD,EAAYC,YAAZ,IAA4BhC,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACiC,OAAD,EAAUC,UAAV,IAAwBlC,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACmC,iBAAD,EAAoBC,oBAApB,IAA4CpC,QAAQ,CAAC,EAAD,CAA1D;AACA,QAAM,CAACqC,eAAD,EAAkBC,kBAAlB,IAAwCtC,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAACuC,aAAD,EAAgBC,gBAAhB,IAAoCxC,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACyC,iBAAD,EAAoBC,oBAApB,IAA4C1C,QAAQ,CAAC,EAAD,CAA1D;AACA,QAAM,CAAC2C,gBAAD,EAAmBC,mBAAnB,IAA0C5C,QAAQ,CAAC,EAAD,CAAxD;AACA,QAAM,CAAC6C,UAAD,EAAaC,aAAb,IAA8B9C,QAAQ,CAAC,EAAD,CAA5C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM8C,SAAS,GAAG,YAAY;AAC5B,UAAI;AACFrB,QAAAA,UAAU,CAAC,IAAD,CAAV;AACA,cAAMsB,QAAQ,GAAG,MAAMxC,eAAe,EAAtC;AACAO,QAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCgC,QAAzC;AACAxB,QAAAA,kBAAkB,CAACwB,QAAQ,CAACC,IAAV,CAAlB;AACD,OALD,CAKE,OAAOC,KAAP,EAAc;AACdnC,QAAAA,OAAO,CAACmC,KAAR,CAAc,sBAAd,EAAsCA,KAAtC;AACD,OAPD,SAOU;AACRxB,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF,KAXD;;AAaAqB,IAAAA,SAAS;AACV,GAfQ,EAeN,EAfM,CAAT,CApBuB,CAmCf;;AAGR,QAAMI,gBAAgB,GAAIC,KAAD,IAAW;AAClCrC,IAAAA,OAAO,CAACC,GAAR,CAAYoC,KAAZ;AACA,QAAIxC,IAAI,GAAGwC,KAAK,CAACC,OAAN,EAAX;AACA,QAAIC,KAAK,GAAGF,KAAK,CAACG,QAAN,KAAmB,CAA/B;AACA,QAAIC,IAAI,GAAGJ,KAAK,CAACK,WAAN,EAAX;AACA,QAAIC,SAAS,GAAG,GAAhB;AAEA,QAAIC,SAAS,GAAI,GACfL,KAAK,GAAG,EAAR,GAAc,IAAGA,KAAM,EAAvB,GAA4B,GAAEA,KAAM,EACrC,GAAEI,SAAU,GAAE9C,IAAK,GAAE8C,SAAU,GAAEF,IAAK,EAFvC;AAIAtC,IAAAA,eAAe,CAACyC,SAAD,CAAf;AACAC,IAAAA,qBAAqB;AACtB,GAbD;;AAeA,QAAMC,YAAY,GAAIC,MAAD,IAAY;AAC/B/C,IAAAA,OAAO,CAACC,GAAR,CAAY8C,MAAZ;AACA,QAAIC,KAAK,GAAGD,MAAM,CAACC,KAAnB;AACA,QAAIC,GAAG,GAAGF,MAAM,CAACE,GAAjB;AAEAhC,IAAAA,YAAY,CAAC+B,KAAD,CAAZ;AACA7B,IAAAA,UAAU,CAAC8B,GAAD,CAAV;AACApC,IAAAA,uBAAuB,CAAC,IAAD,CAAvB;AACD,GARD;;AAUA,QAAMqC,aAAa,GAAIH,MAAD,IAAY;AAChC/C,IAAAA,OAAO,CAACC,GAAR,CAAY8C,MAAZ;AACA1B,IAAAA,oBAAoB,CAAC0B,MAAM,CAACC,KAAR,CAApB;AACAzB,IAAAA,kBAAkB,CAACwB,MAAM,CAACE,GAAR,CAAlB;AACAxB,IAAAA,gBAAgB,CAACsB,MAAM,CAACI,KAAR,CAAhB;AACAxB,IAAAA,oBAAoB,CAACoB,MAAM,CAACK,SAAR,CAApB;AACAvB,IAAAA,mBAAmB,CAACkB,MAAM,CAACM,QAAR,CAAnB;AACAtB,IAAAA,aAAa,CAACgB,MAAM,CAACO,EAAR,CAAb;AACAvC,IAAAA,wBAAwB,CAAC,IAAD,CAAxB;AACD,GATD,CA/DuB,CA0EvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,QAAM8B,qBAAqB,GAAG,MAAM;AAClC7C,IAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACAR,IAAAA,eAAe,GAAG8D,IAAlB,CAAwBC,YAAD,IAAkB;AACvCxD,MAAAA,OAAO,CAACC,GAAR,CAAYuD,YAAZ;AACA/C,MAAAA,kBAAkB,CAAC+C,YAAD,CAAlB;AACD,KAHD;AAID,GAND;;AAQA,QAAMC,oBAAoB,GAAG,MAAM;AACjC1C,IAAAA,wBAAwB,CAAC,KAAD,CAAxB;AACA8B,IAAAA,qBAAqB;AACtB,GAHD;;AAKA,QAAMa,mBAAmB,GAAG,MAAM;AAChC7C,IAAAA,uBAAuB,CAAC,KAAD,CAAvB;AACAgC,IAAAA,qBAAqB;AACtB,GAHD;;AAKA,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,4BACE;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAA,8BACE,QAAC,KAAD;AACE,QAAA,aAAa,EAAE,IADjB;AAEE,QAAA,GAAG,EAAC,iHAFN;AAGE,QAAA,KAAK,EAAE;AAAEc,UAAAA,QAAQ,EAAE,GAAZ;AAAiBC,UAAAA,OAAO,EAAE;AAA1B;AAHT;AAAA;AAAA;AAAA;AAAA,cADF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,eAOE,QAAC,KAAD;AACE,QAAA,aAAa,EAAE,IADjB;AAEE,QAAA,GAAG,EAAC,iHAFN;AAGE,QAAA,KAAK,EAAE;AAAED,UAAAA,QAAQ,EAAE,GAAZ;AAAiBC,UAAAA,OAAO,EAAE;AAA1B;AAHT;AAAA;AAAA;AAAA;AAAA,cAPF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAdF,eAeE;AAAA;AAAA;AAAA;AAAA,YAfF,eAgBE;AAAA,6BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAhBF,eAqBE;AAAA;AAAA;AAAA;AAAA,YArBF,eAsBE;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,sCACiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADjC;AAAA;AAAA;AAAA;AAAA;AAAA,YAtBF,eAyBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAzBF,EAyBmB,GAzBnB,eA0BE;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,uBACkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADlB,wBAC0D,GAD1D,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YA1BF,eA8BE;AAAA;AAAA;AAAA;AAAA,YA9BF,EA+BGlD,OAAO,gBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAJ,gBAAuB,QAAC,QAAD;AAC7B,MAAA,SAAS,EAAC,cADmB;AAE7B,MAAA,SAAS,EAAEf,SAFkB;AAG7B,MAAA,WAAW,EAAEH,MAAM,GAAGqE,MAAT,EAHgB;AAI7B,MAAA,MAAM,EAAErD,eAJqB;AAK7B,MAAA,aAAa,EAAC,OALe;AAM7B,MAAA,WAAW,EAAC,KANiB;AAO7B,MAAA,KAAK,EAAE,CAAC,OAAD,EAAU,MAAV,EAAkB,KAAlB,CAPsB;AAQ7B,MAAA,WAAW,EAAC,MARiB;AAS7B,MAAA,UAAU,EAAE,IATiB;AAU7B,MAAA,YAAY,EAAGsD,UAAD,IAAgBhB,YAAY,CAACgB,UAAD,CAVb;AAW7B,MAAA,aAAa,EAAGC,KAAD,IAAWb,aAAa,CAACa,KAAD,CAXV;AAY7B,MAAA,YAAY,EAAEvE,MAAM,GAAGwE,GAAT,CAAa;AAAEC,QAAAA,CAAC,EAAE,CAAL;AAAQC,QAAAA,CAAC,EAAE;AAAX,OAAb,EAA6BL,MAA7B,EAZe;AAa7B,MAAA,KAAK,EAAE;AAAEM,QAAAA,MAAM,EAAE;AAAV;AAbsB;AAAA;AAAA;AAAA;AAAA,YA/BjC,eA+CE;AAAA;AAAA;AAAA;AAAA,YA/CF,eAgDE,QAAC,eAAD;AACE,MAAA,SAAS,EAAE/C,iBADb;AAEE,MAAA,OAAO,EAAEE,eAFX;AAGE,MAAA,KAAK,EAAEE,aAHT;AAIE,MAAA,SAAS,EAAEE,iBAJb;AAKE,MAAA,QAAQ,EAAEE,gBALZ;AAME,MAAA,EAAE,EAAEE,UANN;AAOE,MAAA,qBAAqB,EAAEhB,qBAPzB;AAQE,MAAA,sBAAsB,EAAE2C;AAR1B;AAAA;AAAA;AAAA;AAAA,YAhDF,eA0DE,QAAC,cAAD;AACE,MAAA,SAAS,EAAEzC,SADb;AAEE,MAAA,OAAO,EAAEE,OAFX;AAGE,MAAA,yBAAyB,EAAEN,oBAH7B;AAIE,MAAA,qBAAqB,EAAE8C;AAJzB;AAAA;AAAA;AAAA;AAAA,YA1DF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmED;;GArMQ9D,a;;KAAAA,a;;AAuMT,SAASwE,GAAT,GAAe;AACb,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAqB,IAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE,OAAX;AAAoBC,MAAAA,KAAK,EAAE;AAA3B,KAA5B;AAAA,2BACE;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAAA,6BACE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAOD;;MARQF,G;AAUT,eAAeA,GAAf","sourcesContent":["// Dentist Scheduler Application\n// Written by Brendan Johnston\n/*\nPackages Used:\naxios@0.24.0\nmoment@2.29.1\nreact-big-calendar@0.38.9\nreact-bootstrap@2.1.2\nreact-phone-number-input@3.1.46\n*/\n\n/*\n  This application allows for a Dentist office to schedule, and maintain new appointments. This also allows for customers to create new appointments for themselves.\n*/\n\nimport \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport NewAppointment from \"./Components/NewAppointments\";\nimport AppointmentEdit from \"./Components/AppointmentEdit\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport Image from \"react-bootstrap/Image\";\nimport moment from \"moment\";\nimport { getAppointments } from \"./Sdk.js\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\n\nmoment.locale(\"en\");\nconst localizer = momentLocalizer(moment);\n\nfunction MainScheduler() {\n  let date = new Date().toLocaleDateString();\n  console.log(date);\n\n  const [selectedDate, setSelectedDate] = useState(date);\n  const [availableTimes, setAvailableTimes] = useState();\n  const [dateValue, setDateValue] = useState();\n  const [appointmentList, setAppointmentList] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [newAppointmentIsOpen, setNewAppointmentIsOpen] = useState(false);\n  const [editAppointmentIsOpen, setEditAppointmentIsOpen] = useState(false);\n  const [startTime, setStartTime] = useState(\"\");\n  const [endTime, setEndTime] = useState(\"\");\n  const [selectedStartTime, setSelectedStartTime] = useState(\"\");\n  const [selectedEndTime, setSelectedEndTime] = useState(\"\");\n  const [selectedPhone, setSelectedPhone] = useState(\"\");\n  const [selectedFirstName, setSelectedFirstName] = useState(\"\");\n  const [selectedLastName, setSelectedLastName] = useState(\"\");\n  const [selectedId, setSelectedId] = useState(\"\");\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const response = await getAppointments();\n        console.log(\"Initial render response: \", response);\n        setAppointmentList(response.data);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []); // Empty dependency array means this effect runs once after initial render\n\n\n  const onCalendarChange = (param) => {\n    console.log(param);\n    let date = param.getDate();\n    let month = param.getMonth() + 1;\n    let year = param.getFullYear();\n    let separator = \"/\";\n\n    let stringVal = `${\n      month < 10 ? `0${month}` : `${month}`\n    }${separator}${date}${separator}${year}`;\n    \n    setSelectedDate(stringVal);\n    GetWeeklyAppointments();\n  };\n\n  const onTimeChange = (change) => {\n    console.log(change);\n    var start = change.start;\n    var end = change.end;\n\n    setStartTime(start);\n    setEndTime(end);\n    setNewAppointmentIsOpen(true);\n  };\n\n  const eventSelected = (change) => {\n    console.log(change);\n    setSelectedStartTime(change.start);\n    setSelectedEndTime(change.end);\n    setSelectedPhone(change.phone);\n    setSelectedFirstName(change.firstName);\n    setSelectedLastName(change.lastName);\n    setSelectedId(change.id);\n    setEditAppointmentIsOpen(true);\n  };\n\n  // const checkAvailableTimes = () => {\n  //   var url = \"http://localhost:5083/DentistScheduler/\";\n  //   const header = {\n  //     \"Access-Control-Allow-Origin\": \"*\",\n  //   };\n  //   var success = sdk.getAvailableTimes(url, header, selectedDate)\n  //     .then((availableTimesFromServer) => {\n  //       console.log(availableTimesFromServer);\n\n  //       let array = [];\n  //       availableTimesFromServer.data.forEach((element) => {\n  //         var startTime = moment(Number(element.startTime)).toDate();\n  //         var endTime = moment(Number(element.endTime)).toDate();\n  //         var appointment = {\n  //           title:\n  //             element.firstName +\n  //             \" \" +\n  //             element.lastName +\n  //             \" | Phone: \" +\n  //             element.phone,\n  //           phone: element.phone,\n  //           firstName: element.firstName,\n  //           lastName: element.lastName,\n  //           start: startTime,\n  //           end: endTime,\n  //           id: element.id,\n  //         };\n  //         array.push(appointment);\n  //       });\n\n  //       setAppointmentList(array);\n  //     })\n  //     .catch((ex) => {\n  //       console.log(ex);\n  //     });\n  //   console.log(success);\n  // };\n\n  const GetWeeklyAppointments = () => {\n    console.log(\"Getting Weekly Appointments\");\n    getAppointments().then((appointments) => {\n      console.log(appointments);\n      setAppointmentList(appointments);\n    })\n  }\n  \n  const editAppointmentClose = () => {\n    setEditAppointmentIsOpen(false);\n    GetWeeklyAppointments();\n  };\n\n  const newAppointmentClose = () => {\n    setNewAppointmentIsOpen(false);\n    GetWeeklyAppointments();\n  };\n\n  return (\n    <div className=\"form-area\">\n      <header className=\"Header-Label\">\n        <Image\n          roundedCircle={true}\n          src=\"https://images.pexels.com/photos/6812561/pexels-photo-6812561.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260\"\n          style={{ maxWidth: 300, padding: 25 }}\n        />\n        <b>Smiley Faces Dentist Scheduler</b>\n        <Image\n          roundedCircle={true}\n          src=\"https://images.pexels.com/photos/5355917/pexels-photo-5355917.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260\"\n          style={{ maxWidth: 300, padding: 25 }}\n        />\n      </header>\n      <label>A CoFi Special Business Venture!</label>\n      <br />\n      <label>\n        <i>\n          Don't mind the drilling! - No pain, no gain! - Fearful need not apply!\n        </i>\n      </label>\n      <br />\n      <label>\n        <b>Click</b> on appointment to <b>view and edit</b>\n      </label>\n      <span> ||</span>{\" \"}\n      <label>\n        <b>Click</b> or <b>Click and Drag</b> in empty space to{\" \"}\n        <b>create new appointment</b>\n      </label>\n      <br />\n      {loading ? (<p>Loading</p>) :  <Calendar\n        className=\"big-calendar\"\n        localizer={localizer}\n        defaultDate={moment().toDate()}\n        events={appointmentList}\n        startAccessor=\"start\"\n        endAccessor=\"end\"\n        views={[\"month\", \"week\", \"day\"]}\n        defaultView=\"week\"\n        selectable={true}\n        onSelectSlot={(timeChange) => onTimeChange(timeChange)}\n        onSelectEvent={(event) => eventSelected(event)}\n        scrollToTime={moment().set({ h: 8, m: 0 }).toDate()}\n        style={{ height: 800 }}\n      />}\n     \n      <br />\n      <AppointmentEdit\n        startTime={selectedStartTime}\n        endTime={selectedEndTime}\n        phone={selectedPhone}\n        firstName={selectedFirstName}\n        lastName={selectedLastName}\n        id={selectedId}\n        editAppointmentIsOpen={editAppointmentIsOpen}\n        onEditAppointmentClose={editAppointmentClose}\n      ></AppointmentEdit>\n      <NewAppointment\n        startTime={startTime}\n        endTime={endTime}\n        newAppointmentModelIsOpen={newAppointmentIsOpen}\n        onNewAppointmentClose={newAppointmentClose}\n      ></NewAppointment>\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <div className=\"App\" style={{ display: \"table\", width: \"100%\" }}>\n      <header className=\"App-Header\">\n        <MainScheduler></MainScheduler>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}